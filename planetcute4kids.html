<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <!--<script src="http://cdn.jsdelivr.net/phaser/2.6.2/phaser.min.js"></script>-->
    <script src="js/phaser/2.6.2/phaser.min.js"></script>
    <script src="js/phaser-plugins/phaser-plugin-debug-arcade-physics.js"></script>
    <script src="phaser4kids.js"></script>
</head>
<body>

	<div id='content_game'></div>

    <script>
        /*
            var game = new Phaser.Game(1024, 768, Phaser.AUTO, 'content_game', { preload: preload, create: create, update: update, render: render });

            var scoreText;
            var liveText;
            var player1, player2;
            var groundGroup, gemGroup, enemyGroup, bulletGroup;
            var score = 0;
            var life = 5;

            function rnd(max) {
                return 1 + Math.floor(Math.random() * Math.floor(max));
            }

            function preload() {
                game.preloadSystem();

                game.load.image('sky', 'assets/img/PlanetCute/Sky.png');
                game.load.image('floor1', 'assets/img/PlanetCute/Grass Block.png');
                game.load.image('floor2', 'assets/img/PlanetCute/Dirt Block.png');
                game.load.image('floor3', 'assets/img/PlanetCute/Brown Block.png');
                game.load.image('beetle', 'assets/img/PlanetCute/Beetleship.png');
                game.load.image('tree1', 'assets/img/PlanetCute/Tree Short.png');
                game.load.image('tree2', 'assets/img/PlanetCute/Tree Tall.png');
                game.load.image('tree3', 'assets/img/PlanetCute/Tree Ugly.png');
                game.load.image('gem1', 'assets/img/PlanetCute/Gem Blue.png');
                game.load.image('gem2', 'assets/img/PlanetCute/Gem Green.png');
                game.load.image('gem3', 'assets/img/PlanetCute/Gem Orange.png');
                game.load.image('star', 'assets/img/PlanetCute/Star.png');
                game.load.image('enemy', 'assets/img/PlanetCute/Enemy Bug.png');

                game.time.advancedTiming = true;
            }

            function create() {

                game.createSystem();
                game.initGame(1024, 768, 'sky');
                game.debugGame();

                player1 = game.createActor('beetle');
                player1.anchor.setTo(0.5, 0.5);
                player1.scaleTo(50, 50);
                //player1.body.bounce.x = 1;
                //player1.body.bounce.y = 1;
                player1.body.gravity.y = 1000;
                player1.body.collideWorldBounds = true;
                //player1.body.velocity.x = 250 + rnd(250);
                player1.body.friction = 0;
                player1.body.allowRotation = true;
                //player1.body.setCircle(16);

                player2 = game.createActor('beetle');
                player2.anchor.setTo(0.5, 0.5);
                player2.y = 500;
                player2.body.gravity.y = 1000;
                player2.body.collideWorldBounds = true;
                player2.body.bounce.x = .3;
                player2.body.bounce.y = .3;
                //player2.body.setCircle(16);

                player1.rotateOnCollide();
                player2.rotateOnCollide();

                game.addText(50, 50, function () {
                    return 'score: ' + life;
                });

        

            }

            var previousEventDown = {};

            function update() {
                game.updateSystem();
                //player1.body.angularVelocity = 200;
                game.onCollide('beetle', 'beetle', function(obj1, obj2) {
                    life -= 1;
                }, true);

                game.onKeyDown(Phaser.Keyboard.LEFT, function() {
                    player2.body.velocity.y = -500;
                }, true);

                game.onMouseLeftDowm(function () {
                    player2.body.velocity.y = -500;
                }, true);

                game.every(new Error().lineNumber, 1, function () {
                    life += 1;
                });
            }

            function render() {
                game.renderSystem();
                game.debug.text(game.time.fps || '--', 2, 14, "#cccccc");
            }
    */
   var actor1, actor2, hero, x, point, y, obstacle, ground;


    // generated by code4kids
    var game = new Phaser.Game(1024, 768, Phaser.AUTO, 'content_game', { preload: preload, create: create, update: update });

    function preload() {
        // preload all ressources
        //game.preloadSystem();
        game.load.image('assets-img-PlanetCute-Sky', 'assets/img/PlanetCute/Sky.png');
        game.load.image('assets-img-PlanetCute-Character-Boy', 'assets/img/PlanetCute/Character Boy.png');
        game.load.image('assets-img-PlanetCute-Wall-Block-Tall', 'assets/img/PlanetCute/Wall Block Tall.png');
        game.load.image('assets-img-PlanetCute-Chest-Open', 'assets/img/PlanetCute/Chest Open.png');
    }


    function create() {
        // declare game
        game.createSystem();

        game.initGame(5000, 768, 'assets-img-PlanetCute-Sky');
        hero = game.createActor('assets-img-PlanetCute-Character-Boy', 100, 100);
        hero.body.collideWorldBounds = true;
        hero.rotateOnCollide();
        hero.setFriction(100, 100);
        hero.body.gravity.y = 500;
        hero.setBounce(50, 50);
        game.camera.follow(hero, Phaser.Camera.FOLLOW_LOCKON, 1, 0.1);
        for (y = 700; y >= 300; y -= 200) {
            obstacle = game.createActor('assets-img-PlanetCute-Wall-Block-Tall', 4700, y);
            obstacle.body.collideWorldBounds = true;
            obstacle.body.gravity.y = 500;
        }
        ground = game.createActor('assets-img-PlanetCute-Chest-Open', 4700, 100);
        ground.body.collideWorldBounds = true;
        ground.body.gravity.y = 500;
        point = 0;
        game.addText(30, 30, function () {
            return (String('points:') + String(point));
        });

    }


    function update() {
        // game events, call for each frame
        //game.updateSystem();


        game.onMouseLeftDowm(function () {
            x = game.input.activePointer.x;
            y = game.input.activePointer.y;
        }, true);


        game.onMouseLeftDowm(function () {
            hero.x = game.input.activePointer.x;
            hero.y = game.input.activePointer.y;
        }, false);

        game.onMouseLeftUp(function () {
            hero.body.velocity.x = ((x - game.input.activePointer.x) * 10);
            hero.body.velocity.y = ((y - game.input.activePointer.y) * 10);
        }, true);


    }


    function render() {
        // game render called each frame
        game.renderSystem();
    }
    </script>

</body>
</html>
